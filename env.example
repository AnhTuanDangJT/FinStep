# ============================================
# FinStep Auth Backend - Environment Variables
# ============================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control

# ============================================
# Server Configuration
# ============================================
PORT=5000

# ============================================
# Database Configuration
# ============================================
# MongoDB connection string
# Local: mongodb://localhost:27017/finstep-auth
# Cloud (MongoDB Atlas): mongodb+srv://username:password@cluster.mongodb.net/finstep-auth
# Production: Use a managed MongoDB service
MONGODB_URI=mongodb://localhost:27017/finstep-auth

# ============================================
# JWT Configuration
# ============================================
# IMPORTANT: Generate strong, random secrets for production
# Use: openssl rand -base64 32 (or similar)
# These must be DIFFERENT and AT LEAST 32 characters long in production

# Access token secret (for short-lived tokens, 15 minutes)
JWT_ACCESS_SECRET=your-super-secret-access-key-change-in-production-min-32-chars

# Refresh token secret (for long-lived tokens, 7 days)
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production-min-32-chars

# Token expiration times
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ============================================
# Frontend/CORS Configuration
# ============================================
# Single origin (legacy, for backwards compatibility)
FRONTEND_URL=http://localhost:3000

# Multiple origins (recommended for deployment)
# Comma-separated list of allowed origins
# Example: http://localhost:3000,https://app.example.com,https://staging.example.com
# Leave empty to use FRONTEND_URL instead
ALLOWED_ORIGINS=

# ============================================
# Rate Limiting Configuration
# ============================================
# Rate limit window in milliseconds (default: 900000 = 15 minutes)
RATE_LIMIT_WINDOW_MS=900000

# Maximum requests per window (default: 5)
# Recommended: 5-10 for auth endpoints (register/login)
RATE_LIMIT_MAX_REQUESTS=5

# ============================================
# Google OAuth (optional)
# ============================================
# GOOGLE_CALLBACK_URL = BACKEND URL where Google redirects after sign-in (not the frontend).
#   Local: http://localhost:4000/auth/google/callback
#   Production: https://YOUR-BACKEND-DOMAIN/auth/google/callback
#   Must match "Authorized redirect URIs" in Google Cloud Console.
# After handling the callback, the backend redirects the user to FRONTEND_URL (e.g. your Vercel frontend).
# GOOGLE_CLIENT_ID=
# GOOGLE_CLIENT_SECRET=
# GOOGLE_CALLBACK_URL=http://localhost:4000/auth/google/callback

# ============================================
# Cloudinary (blog images â€“ required for posting blogs with pictures)
# ============================================
# Get these from https://cloudinary.com/ console. Required on deployment for blog create with images.
# CLOUDINARY_CLOUD_NAME=
# CLOUDINARY_API_KEY=
# CLOUDINARY_API_SECRET=

# ============================================
# AI / Blog Summary (optional)
# ============================================
# Fine-grained GitHub PAT with "Models" read permission.
# Used for AI blog summaries (gpt-4o-mini) via GitHub Models API.
# Get one at https://github.com/settings/tokens?type=beta
# GITHUB_TOKEN=
# AI_MODEL=openai/gpt-4.1

# ============================================
# Environment
# ============================================
# Options: development, production, test
NODE_ENV=development

